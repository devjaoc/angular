<div class="container">
    <div *ngIf="!cargando">
        <section class="text-center text-lg-start">
            <div class="card px-5 bg-dark">
                <div class="row g-0 d-flex align-items-center ">
                    <div class="col-lg-8">
                        <div class="card-body py-5">
                            <form (ngSubmit)="submit()" #forma="ngForm">
                                <h1> {{ventadetalle.DetalleVentaID<0?'Crear nueva venta':'Editar venta'+ventadetalle.DetalleVentaID}}</h1>
                                <div class="col-md-9">
                                    <label for="Fecha" class="form-label">Fecha</label>
                                    <input type="date" min="2018-01-01" max="2018-12-31" class="form-control" id="Fecha" aria-describedby="Fecha"
                                        [(ngModel)]="ventadetalle.Fecha" #Fecha="ngModel" name="Fecha"
                                        [ngClass]="{'is-valid':!Fecha.invalid,'is-invalid':Fecha.invalid}">
                                </div>
                                <div class="col-md-9">
                                    <label for="Descripcion" class="form-label">Descripcion</label>
                                    <input type="text" class="form-control"
                                        id="Descripcion" aria-describedby="Descripcion"
                                        [(ngModel)]="ventadetalle.Descripcion"
                                        #Descripcion="ngModel" name="Descripcion"
                                        [ngClass]="{'is-valid':!Descripcion.invalid,'is-invalid':Descripcion.invalid}">
                                </div>
                                <div class="col-md-9">
                                    <label for="Cantidad" class="form-label">Cantidad</label>
                                    <input type="number" class="form-control"
                                        id="Cantidad" aria-describedby="Cantidad"
                                        [(ngModel)]="ventadetalle.Cantidad"
                                        #Cantidad="ngModel" name="Cantidad"
                                        [ngClass]="{'is-valid':!Cantidad.invalid,'is-invalid':Cantidad.invalid}">
                                </div>
                                <div class="col-md-9">
                                    <label for="Precio" class="form-label">Precio</label>
                                    <input type="number" class="form-control"
                                        id="Precio" aria-describedby="Precio"
                                        [(ngModel)]="ventadetalle.Precio"
                                        #Precio="ngModel" name="Precio"
                                        [ngClass]="{'is-valid':!Precio.invalid,'is-invalid':Precio.invalid}">
                                </div>
                                <div class="col-md-9">
                                    <label for="EmpleadoID" class="form-label">Empleado</label>
                                    <input type="text" class="form-control"
                                        id="EmpleadoID" aria-describedby="EmpleadoID"
                                        [(ngModel)]="ventadetalle.EmpleadoID"
                                        #EmpleadoID="ngModel" name="EmpleadoID"
                                        [ngClass]="{'is-valid':!EmpleadoID.invalid,'is-invalid':EmpleadoID.invalid}">
                                </div>
                                <div class="col-md-9">
                                    <label for="productoSelect" class="form-label">Selecciona el producto</label>
                                    <select (change)="onProductoChange()" class="form-control" id="ProductoID" [(ngModel)]="ventadetalle.ProductoID" #ProuctoID="ngModel" name="producto">
                                        <option *ngFor="let producto of listaProductos" [value]="producto.ProductoID">
                                            {{ producto.Nombre }}, {{producto.ProductoID}}
                                        </option>
                                      </select>
                                </div>
                                <div class="row">
                                    <div class="col-12 mt-4">
                                        <button type="submit"
                                            [disabled]="!forma.valid"
                                            class="btn btn-primary">
                                            {{ventadetalle.DetalleVentaID<0?'Agregar':'Actualizar'}}
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="col-lg-4 d-none d-lg-flex card px-5 bg-dark border-0">
                        <h1>Imagen</h1>
                        <div>
                            <img *ngIf="imagenProductoSeleccionado" [src]="imagenProductoSeleccionado" alt="Imagen del Producto" class="w-100 rounded-t-5 rounded-tr-lg-0 rounded-bl-lg-5"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="alert alert-primary" role="alert" *ngIf="mensaje!=null">ta
                {{mensaje}}
            </div>
        </section>

    </div>
</div>